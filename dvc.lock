schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/raw/predict-volcanic-eruptions_dataset
      md5: e02ae965a33767759c3de22faa1023dc.dir
      size: 31248305674
      nfiles: 8953
    - path: src/prepare.py
      md5: ac865da4002e12a5c8664c12515cfb52
      size: 11707
    params:
      params.yaml:
        prepare.random_state: 42
        prepare.test_size: 0.2
        prepare.train_size: 0.8
    outs:
    - path: data/processed
      md5: c478b5ad977e224c1cdab340148066f5.dir
      size: 9480669
      nfiles: 5
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/processed_training_set.csv
      md5: e9dc66a04e537c1763473326a99a7890
      size: 3863333
    - path: data/processed/y_train.csv
      md5: c7d68c80c2c49d622e44bf9743f0fac3
      size: 34557
    - path: src/train.py
      md5: 842cfd5c34e0bcc87fa41fa0deba6efb
      size: 3866
    params:
      params.yaml:
        train:
          algorithm: XGBRegressor
          num_leaves: 29
          gamma: 0.788
          dropout: 0.6
          patience: 10
          epochs: 1000
          batch_size: 512
          activation: relu
          random_state: 42
          n_estimators: 189
          max_depth: 6
          learning_rate: 0.1
    outs:
    - path: models
      md5: 829903e06650c85c5d5b414c07338a24.dir
      size: 1477689
      nfiles: 1
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/processed_validation_set.csv
      md5: 4a94597c5ab74b67f75265b1072637c0
      size: 968294
    - path: data/processed/y_validation.csv
      md5: ea7642467b641e95a1262f643140956c
      size: 8671
    - path: models
      md5: 829903e06650c85c5d5b414c07338a24.dir
      size: 1477689
      nfiles: 1
    - path: src/evaluate.py
      md5: 54459e50887a9fdbaa094d3e8ef8bfb6
      size: 1975
    outs:
    - path: metrics/scores.json
      md5: 3f286be2b994cea23b06a3854d8e3110
      size: 35
