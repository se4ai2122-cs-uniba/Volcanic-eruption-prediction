schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/raw/predict-volcanic-eruptions_dataset
      md5: e02ae965a33767759c3de22faa1023dc.dir
      size: 31248305674
      nfiles: 8953
    - path: src/prepare.py
      md5: 9b48610d870854b9a5e8d4d61519e630
      size: 11138
    params:
      params.yaml:
        prepare.random_state: 42
        prepare.test_size: 0.2
        prepare.train_size: 0.8
    outs:
    - path: data/processed
      md5: c478b5ad977e224c1cdab340148066f5.dir
      size: 9480669
      nfiles: 5
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/processed_training_set.csv
      md5: e9dc66a04e537c1763473326a99a7890
      size: 3863333
    - path: data/processed/y_train.csv
      md5: c7d68c80c2c49d622e44bf9743f0fac3
      size: 34557
    - path: src/train.py
      md5: be9dae5e80ae2138c2571564dc0a94bf
      size: 5583
    params:
      params.yaml:
        train:
          algorithm: all
          num_leaves: 29
          gamma: 0.788
          dropout: 0.6
          patience: 20
          epochs: 1000
          batch_size: 512
          activation: relu
          random_state: 42
          n_estimators: 189
          max_depth: 6
          learning_rate: 0.01
    outs:
    - path: models
      md5: d82a9d52fa3bb9649d0584e2a4a6d7c4.dir
      size: 2598745
      nfiles: 4
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/processed_validation_set.csv
      md5: 4a94597c5ab74b67f75265b1072637c0
      size: 968294
    - path: data/processed/y_validation.csv
      md5: ea7642467b641e95a1262f643140956c
      size: 8671
    - path: models
      md5: d82a9d52fa3bb9649d0584e2a4a6d7c4.dir
      size: 2598745
      nfiles: 4
    - path: src/evaluate.py
      md5: eba69cb848604b6676e38268430d28cc
      size: 1986
    params:
      params.yaml:
        evaluate:
          algorithm: XGBRegressor
    outs:
    - path: metrics/scores.json
      md5: 2f3684f510f54e80fb13ab1c85979c8f
      size: 35
